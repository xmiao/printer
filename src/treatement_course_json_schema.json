{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "疗程定义json schema",
  "definitions": {
    "record": {
      "title": "记录",
      "type": "object",
      "properties": {
        "no": {
          "type": "integer"
        },
        "content": {
          "type": "string"
        },
        "must_flag": {
          "type": "boolean"
        },
        "association_id": {
          "type": "integer"
        },
        "priority_no": {
          "type": "integer"
        }
      },
      "required": [
        "no",
        "content",
        "must_flag"
      ],
      "additionalProperties": true
    },
    "retrieval_medicine": {
      "title": "药品检索",
      "type": "object",
      "properties": {
        "medicine_id": {
          "type": "number"
        },
        "csId": {
          "type": "number"
        },
        "csTypeCode": {
          "type": "number"
        },
        "pharmacology_class_code": {
          "type": "number"
        },
        "medicine_variety_code": {
          "type": "number"
        },
        "norms_code": {
          "type": "number"
        },
        "form_code": {
          "type": "number"
        }
      },
      "required": [
        "csId"
      ],
      "additionalProperties": true
    },
    "med_default_value": {
      "title": "药品的临床使用默认值",
      "type": "object",
      "properties": {
        "freqCode": {
          "type": "integer"
        },
        "dosageRouteCode": {
          "type": "integer"
        },
        "dose": {
          "type": "integer"
        },
        "doseUnitCode": {
          "type": "integer"
        }
      },
      "additionalProperties": true
    },
    "drug_order": {
      "title": "药品医嘱",
      "type": "object",
      "properties": {
        "retrieval": {
          "$ref": "#/definitions/retrieval_medicine"
        },
        "default": {
          "$ref": "#/definitions/med_default_value"
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "id": {
      "type": "integer"
    },
    "emr_sets": {
      "title": "诊疗套餐",
      "type": "array",
      "items": {
        "$ref": "#/definitions/record"
      }
    },
    "care_plans": {
      "title": "护理计划",
      "type": "array",
      "items": {
        "$ref": "#/definitions/record"
      }
    },
    "order_sets": {
      "title": "医嘱套餐",
      "type": "object",
      "properties": {
        "drug_order_sets": {
          "title": "药品医嘱列表",
          "type": "array",
          "items": {
            "$ref": "#/definitions/drug_order"
          }
        }
      }
    }
  }
}

