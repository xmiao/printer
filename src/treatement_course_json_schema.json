{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "疗程定义json schema",
  "definitions": {
    "record": {
      "title": "记录",
      "type": "object",
      "properties": {
        "content": {
          "title": "default free text",
          "type": "string"
        }
      },
      "required": [
        "no",
        "content",
        "must_flag"
      ]
    },
    "retrieval_medicine": {
      "title": "药品检索",
      "type": "object",
      "properties": {
        "generic_name": {
          "type": "string",
          "title": "通用名"
        },
        "brand_name": {
          "type": "string",
          "title": "商品名"
        },
        "medicine_id": {
          "title": "copy from code ...",
          "type": "number"
        },
        "csId": {
          "type": "number"
        },
        "csTypeCode": {
          "type": "number"
        },
        "pharmacology_class_code": {
          "title": "??????? 不要新起名。pharmacology_class_code",
          "type": "number"
        },
        "medicine_variety_code": {
          "type": "number"
        },
        "norms_code": {
          "type": "number"
        },
        "form_code": {
          "type": "number"
        }
      }
    },
    "med_default_value": {
      "title": "药品属性默认值",
      "type": "object",
      "properties": {
        "freqCode": {
          "type": "integer"
        },
        "dosageRouteCode": {
          "type": "integer"
        },
        "dose": {
          "type": "integer"
        },
        "doseUnitCode": {
          "type": "integer"
        }
      }
    },
    "med_order": {
      "title": "药品医嘱",
      "type": "object",
      "properties": {
        "retrieval": {
          "$ref": "#/definitions/retrieval_medicine"
        },
        "default": {
          "$ref": "#/definitions/med_default_value"
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "id": {
      "type": "integer"
    },
    "order_sets": {
      "title": "医嘱套餐",
      "type": "object",
      "properties": {
        "order_set": {
          "title": "药品医嘱列表",
          "type": "array",
          "items": {
            "$ref": "#/definitions/med_order"
          }
        }
      }
    },
    "clinical_notes": {
      "title": "文书",
      "type": "array",
      "items": {
        "$ref": "#/definitions/record"
      }
    },
    "care_plan": {
      "title": "护理计划",
      "type": "array",
      "items": {
        "$ref": "#/definitions/record"
      }
    },
    "care_plans_2": {
      "title": "护理计划 2",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "retrieve": {
            "title": "1-搜索",
            "type": "object",
            "properties": {
              "templateID": {
                "type": "string"
              }
            }
          },
          "defaultValue": {
            "type": "object",
            "properties": {
            },
            "title": "2-填入属性值"
          },
          "execution": {
            "type": "object",
            "title": "3-执行",
            "properties": {
              "requirement": {
                "type": "string",
                "enum": [
                  "required",
                  "recommended",
                  "none"
                ]
              },
              "priority": {
                "type": "integer"
              }
            }
          }
        }
      }
    }
  },
  "required": [
    "id"
  ]
}

